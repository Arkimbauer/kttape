var cov_10zc04l9yl=function(){var path="/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-api/logic/article/update-article/index.js";var hash="7e7401e498df66c199a04c5e564a980264bf4e12";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-api/logic/article/update-article/index.js",statementMap:{"0":{start:{line:1,column:38},end:{line:1,column:58}},"1":{start:{line:2,column:21},end:{line:2,column:42}},"2":{start:{line:12,column:0},end:{line:30,column:1}},"3":{start:{line:13,column:73},end:{line:13,column:77}},"4":{start:{line:14,column:4},end:{line:14,column:43}},"5":{start:{line:15,column:4},end:{line:15,column:31}},"6":{start:{line:16,column:4},end:{line:16,column:35}},"7":{start:{line:17,column:4},end:{line:17,column:47}},"8":{start:{line:18,column:4},end:{line:18,column:31}},"9":{start:{line:19,column:4},end:{line:19,column:41}},"10":{start:{line:20,column:4},end:{line:20,column:41}},"11":{start:{line:21,column:4},end:{line:21,column:35}},"12":{start:{line:24,column:4},end:{line:29,column:12}},"13":{start:{line:26,column:24},end:{line:26,column:82}},"14":{start:{line:27,column:12},end:{line:27,column:88}},"15":{start:{line:27,column:26},end:{line:27,column:88}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:17},end:{line:12,column:18}},loc:{start:{line:12,column:44},end:{line:30,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:24,column:12},end:{line:24,column:13}},loc:{start:{line:24,column:24},end:{line:29,column:9}},line:24}},branchMap:{"0":{loc:{start:{line:27,column:12},end:{line:27,column:88}},type:"if",locations:[{start:{line:27,column:12},end:{line:27,column:88}},{start:{line:27,column:12},end:{line:27,column:88}}],line:27}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"7e7401e498df66c199a04c5e564a980264bf4e12"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const{models:{User,Article}}=(cov_10zc04l9yl.s[0]++,require('ktbo-data'));const{validate}=(cov_10zc04l9yl.s[1]++,require('ktbo-utils'));/**
 * Updates a user.
 * 
 * @param {string} articleId
 * @param {Object} body
 * 
 * @returns {Promise}
 */cov_10zc04l9yl.s[2]++;module.exports=function(articleId,body){cov_10zc04l9yl.f[0]++;const{ref,title,description,img,quantity,category,price}=(cov_10zc04l9yl.s[3]++,body);cov_10zc04l9yl.s[4]++;validate.string(articleId,'articleId');cov_10zc04l9yl.s[5]++;validate.number(ref,'ref');cov_10zc04l9yl.s[6]++;validate.string(title,'title');cov_10zc04l9yl.s[7]++;validate.string(description,'description');cov_10zc04l9yl.s[8]++;validate.string(img,'img');cov_10zc04l9yl.s[9]++;validate.number(quantity,'quantity');cov_10zc04l9yl.s[10]++;validate.string(category,'category');cov_10zc04l9yl.s[11]++;validate.number(price,'price');cov_10zc04l9yl.s[12]++;return(async()=>{cov_10zc04l9yl.f[1]++;const article=(cov_10zc04l9yl.s[13]++,await Article.findByIdAndUpdate(articleId,{$set:body}));cov_10zc04l9yl.s[14]++;if(!article){cov_10zc04l9yl.b[0][0]++;cov_10zc04l9yl.s[15]++;throw new Error(`article with id ${articleId} does not exist`);}else{cov_10zc04l9yl.b[0][1]++;}})();};