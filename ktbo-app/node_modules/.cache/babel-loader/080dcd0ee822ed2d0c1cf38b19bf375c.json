{"ast":null,"code":"import _slicedToArray from \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/Navigation/index.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect, useContext } from 'react';\nimport Search from '../Search';\nimport { withRouter } from 'react-router-dom';\nimport logic from '../../logic';\nimport Context from '../Context';\n\nfunction Navigation({\n  history,\n  onSearch\n}) {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        admin = _useState2[0],\n        setAdmin = _useState2[1];\n\n  const _useContext = useContext(Context),\n        user = _useContext.user;\n\n  useEffect(() => {\n    handleAdmin();\n  }, []);\n\n  function handleHome() {\n    history.push('/home');\n  }\n  /* function handleDocuments() {\n      history.push('/home/documents')\n  } */\n\n\n  function handleCategories() {\n    history.push('/home/categories');\n  }\n\n  function handleMyOrders() {\n    history.push('/home/my-orders');\n  }\n\n  function handleCurrentOrder() {\n    history.push('/home/current-order');\n  }\n\n  function handleMyAccount() {\n    history.push('/home/my-account');\n  }\n\n  function handleAdminPanel() {\n    history.push('/home/admin-panel');\n  }\n\n  function handleLogout() {\n    delete sessionStorage.id;\n    delete sessionStorage.token;\n  }\n\n  async function handleAdmin() {\n    try {\n      const res = await logic.isUserAdmin();\n      if (res === true) setAdmin(res);\n    } catch (error) {//TODO\n    }\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"navigation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"navigation__ul sticky\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"navigation__li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleHome();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Home\")), React.createElement(\"li\", {\n    className: \"navigation__li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Search, {\n    onSearch: onSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    className: \"navigation__li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleCategories();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Categories\")), React.createElement(\"li\", {\n    className: \"navigation__li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleMyOrders();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"My Orders\")), React.createElement(\"li\", {\n    className: \"navigation__li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleCurrentOrder();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Current Order\")), user && React.createElement(\"div\", {\n    className: \"dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"dropbtn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Hello, \", user.company, React.createElement(\"i\", {\n    className: \"fa fa-caret-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"dropdown-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleMyAccount();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"My Account\"), admin && React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"#\",\n    onClick: event => {\n      event.preventDefault();\n      handleAdminPanel();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Admin Panel\"), React.createElement(\"a\", {\n    className: \"navigation__li--anchor\",\n    href: \"\",\n    onClick: handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Logout\"))))));\n}\n\nexport default withRouter(Navigation);","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/Navigation/index.js"],"names":["React","useState","useEffect","useContext","Search","withRouter","logic","Context","Navigation","history","onSearch","admin","setAdmin","user","handleAdmin","handleHome","push","handleCategories","handleMyOrders","handleCurrentOrder","handleMyAccount","handleAdminPanel","handleLogout","sessionStorage","id","token","res","isUserAdmin","error","event","preventDefault","company"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, {useState, useEffect, useContext} from 'react'\nimport Search from '../Search'\nimport { withRouter } from 'react-router-dom'\nimport logic from '../../logic'\nimport Context from '../Context'\n\nfunction Navigation({ history, onSearch }) {\n\n    const [admin, setAdmin] = useState()\n    const {user} = useContext(Context)\n\n    useEffect(() => {\n        handleAdmin()\n    },[])\n    \n    function handleHome() {\n        history.push('/home')\n    }\n    \n    /* function handleDocuments() {\n        history.push('/home/documents')\n    } */\n\n    function handleCategories() {\n        history.push('/home/categories')\n    }\n\n    function handleMyOrders() {\n        history.push('/home/my-orders')\n    }\n\n    function handleCurrentOrder() {\n        history.push('/home/current-order')\n    }\n\n    function handleMyAccount() {\n        history.push('/home/my-account')\n    }\n\n    function handleAdminPanel() {\n        history.push('/home/admin-panel')\n    }\n\n    function handleLogout (){\n        delete sessionStorage.id\n        delete sessionStorage.token\n    }\n    \n    async function handleAdmin() {\n        try {\n            const res = await logic.isUserAdmin()\n            if(res === true) setAdmin(res)\n        } catch (error) {\n            //TODO\n        }\n      }\n\n    return <>\n \n        <section className=\"navigation\">\n            <ul className=\"navigation__ul sticky\">\n                <li className=\"navigation__li\"><a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                    handleHome() }}>Home</a></li>\n                {/* <li className=\"navigation__li\"><a href=\"#\" onClick={event => { event.preventDefault() \n                    handleDocuments() }}>Documents</a></li> */}\n                <li className=\"navigation__li\"><Search onSearch={onSearch} /></li>\n                <li className=\"navigation__li\"><a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                    handleCategories() }}>Categories</a></li>\n                <li className=\"navigation__li\"><a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                    handleMyOrders() }}>My Orders</a></li>\n                <li className=\"navigation__li\"><a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                    handleCurrentOrder() }}>Current Order</a></li>\n                {user &&<div className=\"dropdown\">\n                    <button className=\"dropbtn\" >Hello, {user.company}<i className=\"fa fa-caret-down\"></i></button>\n                        <div className=\"dropdown-content\">\n                            <a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                                    handleMyAccount() }}>My Account</a>\n                            {admin && <a className=\"navigation__li--anchor\" href=\"#\" onClick={event => { event.preventDefault() \n                                    handleAdminPanel() }}>Admin Panel</a>}\n                            <a className=\"navigation__li--anchor\" href=\"\" onClick={handleLogout}>Logout</a>\n                        </div>\n                </div>}\n            </ul>  \n        </section>\n    </>\n}\n\nexport default withRouter(Navigation)"]},"metadata":{},"sourceType":"module"}