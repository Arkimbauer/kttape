{"ast":null,"code":"import validate from '../../utils/validate';\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL;\n/**\n *  \n *\n * @param {String} articleId\n * @param {Number} quantity\n * \n * @returns\n */\n\nfunction addToCart(articleId, quantity) {\n  quantity = Number(quantity);\n  validate.string(articleId, 'articleId');\n  validate.number(quantity, 'quantity');\n  return (async () => {\n    const _sessionStorage = sessionStorage,\n          token = _sessionStorage.token;\n    const response = await fetch(\"\".concat(REACT_APP_API_URL, \"/user/cart\"), {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': \"bearer \".concat(token)\n      },\n      body: JSON.stringify({\n        articleId,\n        quantity\n      })\n    });\n\n    if (response.status !== 201) {\n      const _ref = await response.json(),\n            error = _ref.error;\n\n      throw Error(error);\n    } else {\n      return await response.json();\n    }\n  })();\n}\n\nexport default addToCart;","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/logic/add-to-card/index.js"],"names":["validate","REACT_APP_API_URL","process","env","addToCart","articleId","quantity","Number","string","number","sessionStorage","token","response","fetch","method","headers","body","JSON","stringify","status","json","error","Error"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,sBAArB;AACA,MAAMC,iBAAiB,GAAGC,OAAO,CAACC,GAAR,CAAYF,iBAAtC;AAEA;;;;;;;;;AASA,SAASG,SAAT,CAAmBC,SAAnB,EAA8BC,QAA9B,EAAwC;AAEpCA,EAAAA,QAAQ,GAAGC,MAAM,CAACD,QAAD,CAAjB;AACAN,EAAAA,QAAQ,CAACQ,MAAT,CAAgBH,SAAhB,EAA2B,WAA3B;AACAL,EAAAA,QAAQ,CAACS,MAAT,CAAgBH,QAAhB,EAA0B,UAA1B;AAEA,SAAO,CAAC,YAAY;AAAA,4BAIZI,cAJY;AAAA,UAGZC,KAHY,mBAGZA,KAHY;AAMhB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,WAAIZ,iBAAJ,iBAAmC;AAC3Da,MAAAA,MAAM,EAAE,MADmD;AAE3DC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,0CAA2BJ,KAA3B;AAFK,OAFkD;AAM3DK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBb,QAAAA,SADiB;AAEjBC,QAAAA;AAFiB,OAAf;AANqD,KAAnC,CAA5B;;AAWA,QAAIM,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AAAA,mBAIrB,MAAMP,QAAQ,CAACQ,IAAT,EAJe;AAAA,YAGrBC,KAHqB,QAGrBA,KAHqB;;AAKzB,YAAMC,KAAK,CAACD,KAAD,CAAX;AACH,KAND,MAMO;AACH,aAAO,MAAMT,QAAQ,CAACQ,IAAT,EAAb;AACH;AAEJ,GA3BM,GAAP;AA4BH;;AAED,eAAehB,SAAf","sourcesContent":["import validate from '../../utils/validate'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\n/**\n *  \n *\n * @param {String} articleId\n * @param {Number} quantity\n * \n * @returns\n */\n\nfunction addToCart(articleId, quantity) {\n\n    quantity = Number(quantity)\n    validate.string(articleId, 'articleId')\n    validate.number(quantity, 'quantity')\n\n    return (async () => {\n\n        const {\n            token\n        } = sessionStorage\n\n        const response = await fetch(`${REACT_APP_API_URL}/user/cart`, {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json',\n                'authorization': `bearer ${token}`\n            },\n            body: JSON.stringify({\n                articleId,\n                quantity\n            })\n        })\n        if (response.status !== 201) {\n\n            const {\n                error\n            } = await response.json()\n            throw Error(error)\n        } else {\n            return await response.json()\n        }\n\n    })()\n}\n\nexport default addToCart"]},"metadata":{},"sourceType":"module"}