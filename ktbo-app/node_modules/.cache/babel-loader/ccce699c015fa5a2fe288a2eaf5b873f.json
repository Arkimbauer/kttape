{"ast":null,"code":"import _slicedToArray from \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/CartButton/index.js\";\nimport React, { useState } from 'react';\nimport logic from '../../logic';\nimport Feedback from '../Feedback';\n\nfunction CartButton({\n  articleId\n}) {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        message = _useState2[0],\n        setMessage = _useState2[1];\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const quantity = event.target.quantity.value;\n    handleAddToCart(articleId, quantity);\n  }\n\n  async function handleAddToCart(articleId, quantity) {\n    try {\n      quantity = Number(quantity);\n\n      const _ref = await logic.addToCart(articleId, quantity),\n            message = _ref.message;\n\n      setMessage(message);\n    } catch (_ref2) {\n      let message = _ref2.message;\n      setMessage(message);\n    }\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"cartButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Add to cart\"), React.createElement(\"input\", {\n    className: \"cartButton__input\",\n    type: \"number\",\n    name: \"quantity\",\n    placeholder: \"quantity\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })), React.createElement(\"section\", {\n    className: \"cartButton__feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, message && React.createElement(Feedback, {\n    message: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })));\n}\n\nexport default CartButton;","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/CartButton/index.js"],"names":["React","useState","logic","Feedback","CartButton","articleId","message","setMessage","handleSubmit","event","preventDefault","quantity","target","value","handleAddToCart","Number","addToCart"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,SAASC,UAAT,CAAoB;AAAEC,EAAAA;AAAF,CAApB,EAAmC;AAAA,oBAEDJ,QAAQ,EAFP;AAAA;AAAA,QAExBK,OAFwB;AAAA,QAEfC,UAFe;;AAI/B,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzBA,IAAAA,KAAK,CAACC,cAAN;AADyB,UAEYC,QAFZ,GAE6BF,KAF7B,CAEjBG,MAFiB,CAEPD,QAFO,CAEKE,KAFL;AAIzBC,IAAAA,eAAe,CAACT,SAAD,EAAYM,QAAZ,CAAf;AACH;;AAED,iBAAeG,eAAf,CAA+BT,SAA/B,EAA0CM,QAA1C,EAAoD;AAChD,QAAI;AACAA,MAAAA,QAAQ,GAAGI,MAAM,CAACJ,QAAD,CAAjB;;AADA,mBAGkB,MAAMT,KAAK,CAACc,SAAN,CAAgBX,SAAhB,EAA2BM,QAA3B,CAHxB;AAAA,YAGOL,OAHP,QAGOA,OAHP;;AAKAC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACH,KAND,CAME,cAAkB;AAAA,UAAVA,OAAU,SAAVA,OAAU;AAChBC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACH;AACJ;;AAGD,SAAO,0CACH;AAAM,IAAA,QAAQ,EAAEE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAO,IAAA,SAAS,EAAC,mBAAjB;AAAqC,IAAA,IAAI,EAAC,QAA1C;AAAmD,IAAA,IAAI,EAAC,UAAxD;AAAmE,IAAA,WAAW,EAAC,UAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADG,EAKH;AAAS,IAAA,SAAS,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCF,OAAO,IAAI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADZ,CALG,CAAP;AAUH;;AAED,eAAeF,UAAf","sourcesContent":["import React, { useState } from 'react'\nimport logic from '../../logic'\nimport Feedback from '../Feedback'\n\nfunction CartButton({ articleId }) {\n\n    const [message, setMessage] = useState()\n\n    function handleSubmit(event) {    \n        event.preventDefault()\n        const { target: { quantity: { value: quantity } } } = event\n        \n        handleAddToCart(articleId, quantity)\n    }\n\n    async function handleAddToCart(articleId, quantity) {\n        try {\n            quantity = Number(quantity)\n            \n            const {message} = await logic.addToCart(articleId, quantity)\n            \n            setMessage(message)\n        } catch ({message}) {\n            setMessage(message)\n        }\n    }\n   \n\n    return <>\n        <form onSubmit={handleSubmit}>\n            <button className=\"cartButton\">Add to cart</button>\n            <input className=\"cartButton__input\" type=\"number\" name=\"quantity\" placeholder=\"quantity\" />\n        </form>\n        <section className=\"cartButton__feedback\">\n        {message && <Feedback message={message} />}\n        </section>\n\n    </>\n}\n\nexport default CartButton"]},"metadata":{},"sourceType":"module"}