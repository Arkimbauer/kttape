{"ast":null,"code":"import _slicedToArray from \"/Users/adriaarki/Desktop/KTBO/ktbo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adriaarki/Desktop/KTBO/ktbo-app/src/components/Admin-panel/Result-orders/index.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport logic from '../../../logic';\nimport Moment from 'react-moment';\nimport Modal from '../../Modal';\n\nfunction ResultOrders({\n  orders,\n  retrievePendingOrders\n}) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        message = _useState2[0],\n        setMessage = _useState2[1];\n\n  function handleModal() {\n    setMessage(null);\n    retrievePendingOrders();\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"myOrders\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, orders && orders.map(order => {\n    const state = order.state,\n          date = order.date,\n          owner = order.owner,\n          items = order.items,\n          id = order.id;\n    let totalPrice = 0;\n    return React.createElement(\"ul\", {\n      className: \"myOrdersAdmin__order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"STATE: \", state), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"DATE: \", React.createElement(Moment, {\n      format: \"YYYY-MM-DD HH:mm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, date)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"COMPANY: \", owner.company), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, \"COUNTRY: \", owner.country), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"EMAIL: \", owner.email), items.map(item => {\n      const totalItem = item.article.price * item.quantity;\n      totalPrice += totalItem;\n      return React.createElement(\"section\", {\n        className: \"adminOrders__articles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Article:\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Ref: \", item.article.ref), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Tite: \", item.article.title), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Quantity: \", item.quantity), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Price: \", item.article.price, \" E\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"TOTAL: \", totalItem, \" E\")));\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"TOTAL PRICE: \", totalPrice), React.createElement(\"form\", {\n      onSubmit: async event => {\n        event.preventDefault();\n\n        try {\n          const _ref = await logic.changeStateOrder(id),\n                message = _ref.message;\n\n          setMessage(message);\n        } catch (_ref2) {\n          let message = _ref2.message;\n          setMessage(message);\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Change State\")), React.createElement(\"form\", {\n      onSubmit: async event => {\n        event.preventDefault();\n\n        try {\n          const _ref3 = await logic.removePendingOrder(id),\n                message = _ref3.message;\n\n          setMessage(message);\n        } catch (_ref4) {\n          let message = _ref4.message;\n          setMessage(message);\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Remove Order\")), message && React.createElement(Modal, {\n      message: message,\n      showModal: handleModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  })));\n}\n\nexport default withRouter(ResultOrders);","map":{"version":3,"sources":["/Users/adriaarki/Desktop/KTBO/ktbo-app/src/components/Admin-panel/Result-orders/index.js"],"names":["React","useState","useEffect","withRouter","logic","Moment","Modal","ResultOrders","orders","retrievePendingOrders","message","setMessage","handleModal","map","order","state","date","owner","items","id","totalPrice","company","country","email","item","totalItem","article","price","quantity","ref","title","event","preventDefault","changeStateOrder","removePendingOrder"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, {useState, useEffect} from 'react'\nimport { withRouter } from 'react-router-dom'\nimport logic from '../../../logic'\nimport Moment from 'react-moment'\nimport Modal from '../../Modal'\n\nfunction ResultOrders({ orders, retrievePendingOrders }) {\n    \n    const [message, setMessage] = useState(null)\n\n    function handleModal() {\n        setMessage(null) \n        retrievePendingOrders()\n    }\n\n    return <>\n        <section className=\"myOrders\">\n            {orders && orders.map(order =>{\n                \n                \n                const {state, date, owner, items, id} = order\n                let totalPrice = 0\n\n            return <ul className=\"myOrdersAdmin__order\">\n                <li>STATE: {state}</li>\n                <li>DATE: <Moment format=\"YYYY-MM-DD HH:mm\">{date}</Moment></li>\n                <li>COMPANY: {owner.company}</li>\n                <li>COUNTRY: {owner.country}</li>\n                <li>EMAIL: {owner.email}</li>\n\n\n                \n                {items.map(item =>{\n                    const totalItem = item.article.price * item.quantity\n                    totalPrice += totalItem\n                    return <section className=\"adminOrders__articles\"><ul>\n                        <li>Article:</li>\n                        <li>Ref: {item.article.ref}</li>\n                        <li>Tite: {item.article.title}</li>\n                        <li>Quantity: {item.quantity}</li>\n                        <li>Price: {item.article.price} E</li>\n                        <li>TOTAL: {totalItem} E</li>\n                    </ul></section>\n                })}\n                <li>TOTAL PRICE: {totalPrice}</li>\n                <form onSubmit={async event => {\n                    event.preventDefault()\n                    try {\n                        const {message} = await logic.changeStateOrder(id)\n                        setMessage(message)\n                        \n                        \n                    } catch ({message}) {\n                        setMessage(message)\n\n                    }\n                    \n                }}>\n                    <button>Change State</button>\n                </form>\n                <form onSubmit={async event => {\n                    event.preventDefault()\n\n                    try {\n                        const {message} = await logic.removePendingOrder(id)\n                        setMessage(message)\n                        \n                        \n                    } catch ({message}) {\n                        setMessage(message)\n\n                    }\n                }}>\n                    <button>Remove Order</button>\n                </form>\n                {message && <Modal message={message} showModal={handleModal}/>}\n            </ul>\n            })}\n        </section>\n    \n\n    </>\n\n}\n\nexport default withRouter(ResultOrders)"]},"metadata":{},"sourceType":"module"}