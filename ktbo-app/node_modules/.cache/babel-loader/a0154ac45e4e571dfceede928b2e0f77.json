{"ast":null,"code":"import _slicedToArray from \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/Current-order/index.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from 'react';\nimport logic from '../../logic';\nimport ResultsCart from './ResultsCart';\n\nfunction CurrentOrder() {\n  //const [error, setError] = useState(null)\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        items = _useState2[0],\n        setItems = _useState2[1];\n\n  async function handleCart() {\n    try {\n      (async () => {\n        const _ref = await logic.retrieveUser(),\n              cart = _ref.cart;\n\n        try {\n          if (cart) {\n            let items = await Promise.all(cart.map(item => logic.retrieveArticle(item.article)));\n            items = items.map((item, index) => {\n              return {\n                item,\n                quantity: cart[index].quantity\n              };\n            });\n            setItems(items);\n          }\n        } catch (error) {}\n      })();\n    } catch (error) {//etError(error)\n    }\n  }\n\n  useEffect(() => {\n    handleCart();\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"currentOrder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, items && React.createElement(ResultsCart, {\n    cart: items,\n    retrieverCart: handleCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"h4\", {\n    className: \"currentOrder__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Current Order\")));\n}\n\nexport default CurrentOrder;","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/Current-order/index.js"],"names":["React","useEffect","useState","logic","ResultsCart","CurrentOrder","items","setItems","handleCart","retrieveUser","cart","Promise","all","map","item","retrieveArticle","article","index","quantity","error"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,SAASC,YAAT,GAAwB;AAEtB;AAFsB,oBAGIH,QAAQ,CAAC,IAAD,CAHZ;AAAA;AAAA,QAGfI,KAHe;AAAA,QAGRC,QAHQ;;AAKtB,iBAAeC,UAAf,GAA4B;AAE1B,QAAI;AACF,OAAC,YAAY;AAAA,qBACM,MAAML,KAAK,CAACM,YAAN,EADZ;AAAA,cACHC,IADG,QACHA,IADG;;AAEX,YAAG;AACD,cAAGA,IAAH,EAAS;AACT,gBAAIJ,KAAK,GAAG,MAAMK,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,GAAL,CAASC,IAAI,IAAIX,KAAK,CAACY,eAAN,CAAsBD,IAAI,CAACE,OAA3B,CAAjB,CAAZ,CAAlB;AACAV,YAAAA,KAAK,GAAGA,KAAK,CAACO,GAAN,CAAW,CAACC,IAAD,EAAMG,KAAN,KAAgB;AAEjC,qBAAO;AAAEH,gBAAAA,IAAF;AAAQI,gBAAAA,QAAQ,EAAER,IAAI,CAACO,KAAD,CAAJ,CAAYC;AAA9B,eAAP;AACD,aAHO,CAAR;AAKAX,YAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;AACA,SAVD,CAUC,OAAMa,KAAN,EAAY,CAEZ;AACF,OAfD;AAiBD,KAlBD,CAkBE,OAAOA,KAAP,EAAc,CACd;AACD;AACF;;AACDlB,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,UAAU;AACX,GAFQ,EAEP,EAFO,CAAT;AAOE,SAAO,0CACH;AAAS,IAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGF,KAAK,IAAI,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAEA,KAAnB;AAA0B,IAAA,aAAa,EAAEE,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFZ,EAGE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,CADG,CAAP;AAUH;;AAED,eAAeH,YAAf","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from 'react'\nimport logic from '../../logic'\nimport ResultsCart from './ResultsCart'\n\nfunction CurrentOrder() {\n\n  //const [error, setError] = useState(null)\n  const [items, setItems] = useState(null)\n \n  async function handleCart() {\n  \n    try {\n      (async () => {\n        const { cart } = await logic.retrieveUser()\n        try{\n          if(cart) {\n          let items = await Promise.all(cart.map(item => logic.retrieveArticle(item.article)))\n          items = items.map( (item,index) => {\n            \n            return { item, quantity: cart[index].quantity}\n          })\n          \n          setItems(items)\n        }\n        }catch(error){\n\n        }\n      })()\n \n    } catch (error) {\n      //etError(error)\n    }\n  }\n  useEffect(() => {\n    handleCart()\n  },[])\n\n\n\n\n    return <>\n        <section className=\"currentOrder\">\n          \n          {items && <ResultsCart cart={items} retrieverCart={handleCart}/>} \n          <h4 className=\"currentOrder__title\">Current Order</h4>    \n\n        \n\n        </section>\n    </>\n}\n\nexport default CurrentOrder"]},"metadata":{},"sourceType":"module"}