{"ast":null,"code":"const REACT_APP_API_URL = process.env.REACT_APP_API_URL;\nexport default function () {\n  const _sessionStorage = sessionStorage,\n        token = _sessionStorage.token;\n  return (async () => {\n    const response = await fetch(\"\".concat(REACT_APP_API_URL, \"/user/allOrders\"), {\n      method: 'GET',\n      headers: {\n        'authorization': \"bearer \".concat(token)\n      }\n    });\n\n    if (response.status !== 201) {\n      const _ref = await response.json(),\n            error = _ref.error;\n\n      throw Error(error);\n    } else {\n      const _ref2 = await response.json(),\n            orders = _ref2.orders;\n\n      return orders;\n    }\n  })();\n}","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/logic/retrieve-all-orders/index.js"],"names":["REACT_APP_API_URL","process","env","sessionStorage","token","response","fetch","method","headers","status","json","error","Error","orders"],"mappings":"AACA,MAAMA,iBAAiB,GAAGC,OAAO,CAACC,GAAR,CAAYF,iBAAtC;AAEA,eAAe,YAAY;AAAA,0BAETG,cAFS;AAAA,QAEnBC,KAFmB,mBAEnBA,KAFmB;AAIvB,SAAO,CAAC,YAAY;AAChB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,WAAIN,iBAAJ,sBAAwC;AAChEO,MAAAA,MAAM,EAAE,KADwD;AAEhEC,MAAAA,OAAO,EAAE;AAAC,0CAA2BJ,KAA3B;AAAD;AAFuD,KAAxC,CAA5B;;AAKA,QAAIC,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAAA,mBACP,MAAMJ,QAAQ,CAACK,IAAT,EADC;AAAA,YACjBC,KADiB,QACjBA,KADiB;;AAEzB,YAAMC,KAAK,CAACD,KAAD,CAAX;AACH,KAHD,MAIK;AAAA,oBACiB,MAAMN,QAAQ,CAACK,IAAT,EADvB;AAAA,YACMG,MADN,SACMA,MADN;;AAED,aAAOA,MAAP;AACH;AACJ,GAdM,GAAP;AAeH","sourcesContent":["\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function () {\n\nconst { token } = sessionStorage\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/user/allOrders`, {\n            method: 'GET',\n            headers: {'authorization': `bearer ${token}` }\n        })\n        \n        if (response.status !== 201) {\n            const { error } = await response.json()\n            throw Error(error)\n        }\n        else {\n            const {orders} =  await response.json()\n            return orders\n        }\n    })()\n}"]},"metadata":{},"sourceType":"module"}