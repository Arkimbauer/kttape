{"ast":null,"code":"import _slicedToArray from \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/My-account/index.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport logic from '../../logic';\nimport Modal from '../Modal';\n\nfunction MyAccount({\n  history\n}) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        message = _useState2[0],\n        setMessage = _useState2[1];\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    let _event$target = event.target,\n        oldP = _event$target.old.value,\n        newP = _event$target.new.value;\n    handleUpdate(oldP, newP);\n    event.target.old.value = '';\n    event.target.new.value = '';\n  }\n\n  function handleModal() {\n    setMessage(null);\n  }\n\n  async function handleUpdate(oldP, newP) {\n    try {\n      const _ref = await logic.updateUser(oldP, newP),\n            message = _ref.message;\n\n      const messageOk = message;\n      setMessage(messageOk);\n    } catch (_ref2) {\n      let message = _ref2.message;\n      setMessage(message);\n    }\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"myAccount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"My Account\"), React.createElement(\"div\", {\n    className: \"myAccount__updateUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Update Password\"), React.createElement(\"form\", {\n    className: \"myAccount__update-user--form\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"Old Password\",\n    type: \"password\",\n    name: \"old\",\n    defaultValue: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    placeholder: \"New Password\",\n    type: \"password\",\n    name: \"new\",\n    defaultValue: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Submit\"))), message && React.createElement(Modal, {\n    message: message,\n    showModal: handleModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })));\n}\n\nexport default withRouter(MyAccount);","map":{"version":3,"sources":["/Users/adriaarki/bootcamp/collab/skylab-bootcamp-201907/staff/adria-arquimbau/KTBO/ktbo-app/src/components/My-account/index.js"],"names":["React","useState","withRouter","logic","Modal","MyAccount","history","message","setMessage","handleSubmit","event","preventDefault","target","oldP","old","value","newP","new","handleUpdate","handleModal","updateUser","messageOk"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAGA,SAASC,SAAT,CAAmB;AAACC,EAAAA;AAAD,CAAnB,EAA8B;AAAA,oBAEEL,QAAQ,CAAC,IAAD,CAFV;AAAA;AAAA,QAErBM,OAFqB;AAAA,QAEZC,UAFY;;AAI5B,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AAD2B,wBAEqCD,KAFrC,CAErBE,MAFqB;AAAA,QAEGC,IAFH,iBAEXC,GAFW,CAEJC,KAFI;AAAA,QAEyBC,IAFzB,iBAEWC,GAFX,CAEkBF,KAFlB;AAG3BG,IAAAA,YAAY,CAACL,IAAD,EAAOG,IAAP,CAAZ;AACEN,IAAAA,KAAK,CAACE,MAAN,CAAaE,GAAb,CAAiBC,KAAjB,GAAyB,EAAzB;AACAL,IAAAA,KAAK,CAACE,MAAN,CAAaK,GAAb,CAAiBF,KAAjB,GAAyB,EAAzB;AACH;;AAED,WAASI,WAAT,GAAuB;AACrBX,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD;;AAED,iBAAeU,YAAf,CAA4BL,IAA5B,EAAkCG,IAAlC,EAAwC;AACtC,QAAI;AAAA,mBACoB,MAAMb,KAAK,CAACiB,UAAN,CAAiBP,IAAjB,EAAuBG,IAAvB,CAD1B;AAAA,YACQT,OADR,QACQA,OADR;;AAEA,YAAMc,SAAS,GAAGd,OAAlB;AACAC,MAAAA,UAAU,CAACa,SAAD,CAAV;AACH,KAJD,CAIE,cAAkB;AAAA,UAAVd,OAAU,SAAVA,OAAU;AAClBC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACD;AACF;;AAED,SAAO,0CACL;AAAS,IAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAA+C,IAAA,QAAQ,EAAEE,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,WAAW,EAAC,cAAnB;AAAkC,IAAA,IAAI,EAAC,UAAvC;AAAkD,IAAA,IAAI,EAAC,KAAvD;AAA6D,IAAA,YAAY,EAAC,EAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAO,IAAA,WAAW,EAAC,cAAnB;AAAkC,IAAA,IAAI,EAAC,UAAvC;AAAkD,IAAA,IAAI,EAAC,KAAvD;AAA6D,IAAA,YAAY,EAAC,EAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CAFF,CAFF,EAUSF,OAAO,IAAI,oBAAC,KAAD;AAAQ,IAAA,OAAO,EAAEA,OAAjB;AAA0B,IAAA,SAAS,EAAEY,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVpB,CADK,CAAP;AAcD;;AAED,eAAejB,UAAU,CAACG,SAAD,CAAzB","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport logic from '../../logic'\nimport Modal from '../Modal'\n\n\nfunction MyAccount({history}) {\n\n  const [message, setMessage] = useState(null)\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    let { target: { old: { value: oldP }, new: { value: newP } }} = event\n    handleUpdate(oldP, newP)\n      event.target.old.value = ''\n      event.target.new.value = ''\n  }\n\n  function handleModal() {\n    setMessage(null) \n  }\n\n  async function handleUpdate(oldP, newP) {\n    try {\n        const { message } = await logic.updateUser(oldP, newP)\n        const messageOk = message     \n        setMessage(messageOk)\n    } catch ({message}) {\n      setMessage(message)  \n    }\n  }\n\n  return <>\n    <section className=\"myAccount\">\n      <h1>My Account</h1>\n      <div className=\"myAccount__updateUser\">\n        <h2>Update Password</h2>\n        <form className=\"myAccount__update-user--form\" onSubmit={handleSubmit}>\n          <input placeholder=\"Old Password\" type=\"password\" name=\"old\" defaultValue=\"\" ></input>\n          <input placeholder=\"New Password\" type=\"password\" name=\"new\" defaultValue=\"\" ></input>\n          <button>Submit</button>\n        </form>\n            </div>\n            {message && <Modal  message={message} showModal={handleModal}/>}\n    </section>\n  </>\n}\n\nexport default withRouter(MyAccount)"]},"metadata":{},"sourceType":"module"}