(window["webpackJsonpmy-stuff-app"]=window["webpackJsonpmy-stuff-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(20),s=a.n(c),l=a(1),o=a.n(l),u=a(2),i=a(3),m=a(10),p=Object(r.createContext)({}),d=a(8).validate,h=a(8).validate,f=a(8).validate,E=a(8).validate,v=a(8).validate,b=a(8).validate;var g=a(8).validate,_=a(8).validate,x=a(8).validate,O=a(8).validate,w=a(8).validate,k={set userCredentials(e){var t=e.id,a=e.token;sessionStorage.token=a,sessionStorage.id=t},get userCredentials(){return{id:sessionStorage.id,token:sessionStorage.token}},authenticateUser:function(e,t){return d.string(e,"email"),d.email(e,"email"),d.string(t,"password"),Object(u.a)(o.a.mark((function a(){var r,n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat("https://ktbo.herokuapp.com/api","/auth"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(200===(r=a.sent).status){a.next=11;break}return a.next=6,r.json();case 6:throw n=a.sent,c=n.error,Error(c);case 11:return a.next=13,r.json();case 13:return a.abrupt("return",a.sent);case 14:case"end":return a.stop()}}),a)})))()},retrieveUser:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(200===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))()},isUserLogged:function(){return sessionStorage.token&&sessionStorage.id},retrieveAllArticles:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/articles"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(200===(r=e.sent).status){e.next=10;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 10:return e.next=12,r.json();case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))()},searchArticles:function(e){return h.string(e,"query"),Object(u.a)(o.a.mark((function t(){var a,r,n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/searchArticles/").concat(e),{method:"GET",headers:{authorization:"bearer ".concat(r)}});case 3:return n=t.sent,t.next=6,n.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))()},addToCart:function(e,t){return t=Number(t),f.string(e,"articleId"),f.number(t,"quantity"),Object(u.a)(o.a.mark((function a(){var r,n,c,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=sessionStorage,n=r.token,a.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/cart"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify({articleId:e,quantity:t})});case 3:if(201===(c=a.sent).status){a.next=12;break}return a.next=7,c.json();case 7:throw s=a.sent,l=s.error,Error(l);case 12:return a.next=14,c.json();case 14:return a.abrupt("return",a.sent);case 15:case"end":return a.stop()}}),a)})))()},retrieveArticle:function(e){return Object(u.a)(o.a.mark((function t(){var a,r,n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/article/").concat(e),{method:"GET",headers:{authorization:"bearer ".concat(r)}});case 3:if(200===(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:throw c=t.sent,s=c.error,Error(s);case 12:return t.next=14,n.json();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))()},removeToCart:function(e){return E.string(e,"articleId"),Object(u.a)(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/cart"),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(r)},body:JSON.stringify({articleId:e})});case 3:case"end":return t.stop()}}),t)})))()},placeOrder:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/order"),{method:"POST",headers:{authorization:"bearer ".concat(a)}});case 3:if(201===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))()},retrieveAllUserOrders:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/orders"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(201===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))()},updateUser:function(e,t){return v.string(e,"oldPassword"),v.string(t,"password"),Object(u.a)(o.a.mark((function a(){var r,n,c,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=sessionStorage,n=r.token,a.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user"),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify({password:t,oldPassword:e})});case 3:if(200===(c=a.sent).status){a.next=12;break}return a.next=7,c.json();case 7:throw s=a.sent,l=s.error,Error(l);case 12:return a.next=14,c.json();case 14:return a.abrupt("return",a.sent);case 15:case"end":return a.stop()}}),a)})))()},retrieveCategory:function(e){return b.string(e,"category"),Object(u.a)(o.a.mark((function t(){var a,r,n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/articles/").concat(e),{method:"GET",headers:{authorization:"bearer ".concat(r)}});case 3:if(200===(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:throw c=t.sent,s=c.error,Error(s);case 12:return t.next=14,n.json();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))()},isUserAdmin:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,k.retrieveUser(a);case 3:if(r=e.sent,"admin"!==r.role){e.next=7;break}return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},retrievePendingOrders:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/pendingOrders"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(201===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))()},changeStateOrder:function(e){return g.string(e,"orderId"),Object(u.a)(o.a.mark((function t(){var a,r,n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/order/").concat(e),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(r)}});case 3:if(201===(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:throw c=t.sent,s=c.error,Error(s);case 12:return t.next=14,n.json();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))()},removePendingOrder:function(e){return _.string(e,"orderId"),Object(u.a)(o.a.mark((function t(){var a,r,n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/removeOrder/").concat(e),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(r)}});case 3:if(201===(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:throw c=t.sent,s=c.error,Error(s);case 12:return t.next=14,n.json();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))()},retrieveAllOrders:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/allOrders"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(201===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return s=e.sent,l=s.orders,e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))()},registerUser:function(e,t,a,r,n){return x.string(e,"company"),x.string(t,"country"),x.string(a,"email"),x.email(a,"email"),x.string(r,"password"),x.string(n,"role"),Object(u.a)(o.a.mark((function c(){var s,l,u,i,m;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=sessionStorage,l=s.token,c.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(l)},body:JSON.stringify({company:e,country:t,email:a,password:r,role:n})});case 3:if(201===(u=c.sent).status){c.next=12;break}return c.next=7,u.json();case 7:throw i=c.sent,m=i.error,Error(m);case 12:return c.next=14,u.json();case 14:return c.abrupt("return",c.sent);case 15:case"end":return c.stop()}}),c)})))()},retrieveAllUsers:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage,a=t.token,e.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/allUsers"),{method:"GET",headers:{authorization:"bearer ".concat(a)}});case 3:if(200===(r=e.sent).status){e.next=12;break}return e.next=7,r.json();case 7:throw n=e.sent,c=n.error,Error(c);case 12:return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))()},unregisterUser:function(e,t){return O.string(e,"userToDelete"),O.string(t,"password"),Object(u.a)(o.a.mark((function a(){var r,n,c,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=sessionStorage,n=r.token,a.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user"),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify({userToDelete:e,password:t})});case 3:if(200===(c=a.sent).status){a.next=12;break}return a.next=7,c.json();case 7:throw s=a.sent,l=s.error,Error(l);case 12:return a.next=14,c.json();case 14:return a.abrupt("return",a.sent);case 15:case"end":return a.stop()}}),a)})))()},wakeUp:function(){return Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ktbo.herokuapp.com/api","/wake-up-api"),{method:"GET",headers:{"content-type":"application/json"}});case 2:if(200===(t=e.sent).status){e.next=11;break}return e.next=6,t.json();case 6:throw a=e.sent,r=a.error,Error(r);case 11:return e.next=13,t.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))()},removeAllCart:function(e){return w.string(e,"clientId"),Object(u.a)(o.a.mark((function t(){var a,r,n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage,r=a.token,t.next=3,fetch("".concat("https://ktbo.herokuapp.com/api","/user/remove-cart"),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(r)},body:JSON.stringify({clientId:e})});case 3:if(200===(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:throw c=t.sent,s=c.error,Error(s);case 12:return t.next=14,n.json();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))()}};a(31);var y=function(e){var t=e.message,a=e.showModal;return n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal__box"},n.a.createElement("p",{className:""},t),n.a.createElement("button",{onClick:a},"Ok")))};var j=Object(m.e)((function(e){var t=e.history,a=Object(r.useState)(null),c=Object(i.a)(a,2),s=c[0],l=c[1],m=Object(r.useContext)(p).setUser;function d(){return(d=Object(u.a)(o.a.mark((function e(a,r){var n,c,s,u,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.authenticateUser(a,r);case 3:return n=e.sent,c=n.id,s=n.token,k.userCredentials={id:c,token:s},e.prev=7,e.next=10,k.retrieveUser();case 10:u=e.sent,m(u),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:t.push("/home"),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(0),i=e.t1.message,l(i);case 23:case"end":return e.stop()}}),e,null,[[0,19],[7,14]])})))).apply(this,arguments)}return n.a.createElement("main",{className:"login"},n.a.createElement("section",{className:"login__content"},n.a.createElement("h2",{className:"login__title"},"Login"),n.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault();var t=e.target;!function(e,t){d.apply(this,arguments)}(t.email.value,t.password.value)}},n.a.createElement("input",{className:"login__form--email",placeholder:"e-mail",type:"email",name:"email"}),n.a.createElement("input",{className:"login__form--password",placeholder:"password",type:"password",name:"password"}),n.a.createElement("button",{className:"login__form--button"},"Log in")),s&&n.a.createElement(y,{message:s,showModal:function(){l(null)}})))}));var N=Object(m.e)((function(){var e=Object(r.useContext)(p),t=e.credentials,a=e.setUser;return Object(r.useEffect)((function(){if(t){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.retrieveUser(r,n);case 3:t=e.sent,c=t.user,a(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),r=t.id,n=t.token;e()}}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"superior"},n.a.createElement("div",{className:"superior__container"},n.a.createElement("img",{className:"superior__image",alt:"",src:"https://kttape.es/wp-content/uploads/2019/02/Logo-sense-fons-dreta-blanc.png"}),n.a.createElement("section",{className:"superior__conditions"},n.a.createElement("a",{className:"superior__conditions--privacy",href:"https://kttape.es/privacy-policy/"},"Privacy Policy"),n.a.createElement("a",{className:"superior__conditions--terms",href:"https://kttape.es/terms-of-use/"},"Terms of Use")))),n.a.createElement("section",null,n.a.createElement(j,null)),n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"footer__cont"},n.a.createElement("a",{className:"footer__cont--privacity",href:"https://kttape.es/privacy-policy/"},"Privacy Policy"),n.a.createElement("a",{className:"footer__cont--terms",href:"https://kttape.es/terms-of-use/"},"Terms of Use")),n.a.createElement("div",{className:"footer__rights"},n.a.createElement("a",{className:"footer__rights--a",href:"https://www.kttape.es"},"\xa9 2016 KTTAPE EUROPE - Todos los derechos reservados"))))})),C=a(14);var S=function(e){var t=e.onSearch,a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],l=c[1];return n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target.query.value;t(a),l("")}},n.a.createElement("input",{className:"navigation__search--input",placeholder:"Search article",type:"text",name:"query",value:s,onChange:function(e){return l(e.target.value)}}),n.a.createElement("button",{className:"navigation__search--button"},"Search"))};var A=Object(m.e)((function(e){var t,a=e.history,c=e.onSearch,s=Object(r.useContext)(p).user,l=Object(r.useContext)(p).items,m=Object(r.useContext)(p),d=m.cat,h=m.setCat,f=Object(r.useState)(),E=Object(i.a)(f,2),v=E[0],b=E[1];function g(){return(g=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.isUserAdmin();case 3:!0===(t=e.sent)&&b(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.retrieveCategory(t);case 3:r=e.sent,h(r),"-"===(n=(n=t.split(" ").join("-")).split("KTTape").join(""))[0]&&(n=n.substr(1)),a.push("/home/category/".concat(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"navigation"},n.a.createElement("ul",{className:"navigation__ul sticky"},n.a.createElement("li",{className:"navigation__li"},n.a.createElement("a",{className:"navigation__li--anchor",href:"#",onClick:function(e){e.preventDefault(),a.push("/home")}},"Home")),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"dropbtn"},"Categories",n.a.createElement("i",{className:"fa fa-caret-down"})),n.a.createElement("div",{className:"dropdown-content"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Pro Precut")}},"Pro Precut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Pro Uncut")}},"Pro Uncut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Pro Limited Edition")}},"Pro Limited Edition")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Pro Jumbo Precut")}},"Pro Jumbo Precut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Pro Jumbo Uncut")}},"Pro Jumbo Uncut"))),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Original Precut")}},"Original Precut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Original Uncut")}},"Original Uncut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Original Jumbo Precut")}},"Original Jumbo Precut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Original Jumbo Uncut")}},"Original Jumbo Uncut")),n.a.createElement("li",null,n.a.createElement("a",{className:"dropdown-content__text",href:"#",onClick:function(e){e.preventDefault();_("KTTape Original Jumbo Edema")}},"Original Jumbo Edema"))),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",(t={className:"dropdown-content__text"},Object(C.a)(t,"className","categoriesCont__otherProducts"),Object(C.a)(t,"href","#"),Object(C.a)(t,"onClick",(function(e){e.preventDefault();_("Other Products")})),t),"Other Products"))))),n.a.createElement("li",{className:"navigation__li"},n.a.createElement(S,{onSearch:c})),n.a.createElement("li",{className:"navigation__li"},n.a.createElement("a",{className:"navigation__li--anchor",href:"#",onClick:function(e){e.preventDefault(),a.push("/home/my-orders")}},"My Orders")),s&&n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"dropbtn"},"Hello, ",s.company,n.a.createElement("i",{className:"fa fa-caret-down"})),n.a.createElement("div",{className:"dropdown-content"},n.a.createElement("a",{className:"dropdown-content__text navigation__li--anchor",href:"#",onClick:function(e){e.preventDefault(),a.push("/home/my-account")}},"My Account"),v&&n.a.createElement("a",{className:"dropdown-content__text navigation__li--anchor",href:"#",onClick:function(e){e.preventDefault(),a.push("/home/admin-panel")}},"Admin Panel"),n.a.createElement("a",{className:"dropdown-content__text navigation__li--anchor",href:"",onClick:function(){delete sessionStorage.id,delete sessionStorage.token}},"Logout"))),l&&l.length>0&&n.a.createElement("li",{className:"navigation__li"},n.a.createElement("a",{className:"navigation__li--anchor",href:"#",onClick:function(e){e.preventDefault(),a.push("/home/current-order")}},"Your Order ",l.length)))))}));var P=Object(m.e)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",null,n.a.createElement("h1",null,"Documents")))})),U=a(11),T=a.n(U);var R=function(e){var t=e.element,a=t.state,r=t.date,c=t.items,s=0;return n.a.createElement("section",{className:"myOrders__order"},n.a.createElement("ul",{className:"abc"},c.map((function(e){var t=e.article,a=e.quantity,r=t.title,c=t.ref,l=t.price,o=(t.id,l*a);return s+=o,n.a.createElement("ul",{className:"myOrders__order--items",key:r},n.a.createElement("li",null,"Ref: ",c),n.a.createElement("li",null,r),n.a.createElement("li",null,a," units"),n.a.createElement("li",null,l," \u20ac "),n.a.createElement("li",null,"Total: ",o.toFixed(2)," \u20ac"))}))),n.a.createElement("ul",{className:"myOrders__order--data"},n.a.createElement("li",null,"Date: ",n.a.createElement(T.a,{format:"YYYY-MM-DD HH:mm"},r)),n.a.createElement("li",{className:"status"},n.a.createElement("p",null,"State:")," ",n.a.createElement("p",{className:"status__".concat(a)},a.toUpperCase())),n.a.createElement("li",null,"Total Order: ",s.toFixed(2)," \u20ac")))};var I=Object(m.e)((function(e){var t=e.history,a=Object(r.useContext)(p).setCat,c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],m=s[1],d=Object(r.useState)(null),h=Object(i.a)(d,2),f=h[0],E=h[1];function v(){return(v=Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.retrieveAllUserOrders();case 3:t=e.sent,a=t.orders,E(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.message,m(r);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){a(),function(){v.apply(this,arguments)}()}),[]),n.a.createElement("main",{className:"myOrdersMain"},n.a.createElement("section",{className:"myOrders"},n.a.createElement("h1",{className:"myOrders__title"},"My Orders"),f&&f.map((function(e){return n.a.createElement(R,{key:e.id,element:e})}))),l&&n.a.createElement(y,{message:l,showModal:function(){m(null),t.push("/home")}}))}));var D=function(e){var t=e.element,a=e.onSubmit,c=e.onRemove,s=Object(r.useState)(""),l=Object(i.a)(s,2),o=l[0],u=l[1],m=t.item.article,p=m.ref,d=m.id,h=m.title,f=m.quantity,E=m.price,v=t.quantity,b=E*v;return n.a.createElement("ul",{key:d,className:"currentOrder__article"},n.a.createElement("li",{className:"currentOrder__article--param"},"Ref: ",p),n.a.createElement("li",{className:"currentOrder__article--param"},h),n.a.createElement("li",{className:"currentOrder__article--param"},"Stock: ",f),n.a.createElement("li",{className:"currentOrder__article--param"},"Price: ",E," \u20ac x pack"),n.a.createElement("li",{className:"currentOrder__article--param"},"Total: ",b.toFixed(2)," \u20ac"),n.a.createElement("li",{className:"currentOrder__article--param"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target,r=t.number.value,n=t.articleId.value;a(n,r),u("")}},n.a.createElement("input",{type:"number",name:"number",placeholder:"quantity",value:o,onChange:function(e){return u(e.target.value)}}),n.a.createElement("input",{type:"text",hidden:!0,name:"articleId",defaultValue:d}),n.a.createElement("button",null,"Submit"))),n.a.createElement("li",{className:"currentOrder__article--param"},"Your quantity: ",v),n.a.createElement("li",null,n.a.createElement("form",{onSubmit:c},n.a.createElement("input",{type:"text",hidden:!0,name:"articleId",defaultValue:d}),n.a.createElement("button",null,"Remove"))))};var q=Object(m.e)((function(e){var t=e.history,a=Object(r.useState)(null),c=Object(i.a)(a,2),s=c[0],l=c[1],m=Object(r.useState)(null),d=Object(i.a)(m,2),h=d[0],f=d[1],E=Object(r.useContext)(p).items,v=Object(r.useContext)(p),b=v.interruptorItems,g=v.setInterruptorItems;Object(r.useEffect)((function(){0===E.length&&t.push("/home/my-orders")}),[E]);var _=0;function x(e,t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.addToCart(t,a);case 3:g(!b),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r=e.t0.message,f(r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.articleId.value,e.prev=2,e.next=5,k.removeToCart(a);case 5:g(!b),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.placeOrder();case 3:t=e.sent,a=t.message,l(a),g(!b),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r=e.t0.message,f(r);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"currentOrder__articles"},E.map((function(e){var t=e.item.article,a=t.price,r=t.id,c=e.quantity;return _+=a*c,n.a.createElement(D,{key:r,element:e,onSubmit:x,onRemove:w})}))),s&&n.a.createElement(y,{message:s,showModal:function(){l(null),t.push("/home/my-orders")}}),h&&n.a.createElement(y,{message:h,showModal:function(){f(null)}}),n.a.createElement("div",{className:"currentOrder__placeOrder"},n.a.createElement("button",{onClick:function(){return N.apply(this,arguments)},className:"currentOrder__button--placeOrder"},"PLACE ORDER"),n.a.createElement("h3",{className:"currentOrder__totalPrice"},"TOTAL PRICE: ",_.toFixed(2)," \u20ac")))}));var M=Object(m.e)((function(){var e=Object(r.useContext)(p).items,t=Object(r.useContext)(p),a=t.user,c=t.goHome,s=Object(r.useContext)(p).setCat;return Object(r.useEffect)((function(){s()}),[a,e,c]),n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"currentOrder"},e&&n.a.createElement(q,null),n.a.createElement("h4",{className:"currentOrder__title"},"Current Order")))}));var L=Object(m.e)((function(e){e.history;var t=Object(r.useContext)(p).setCat,a=Object(r.useState)(null),c=Object(i.a)(a,2),s=c[0],l=c[1];function m(){return(m=Object(u.a)(o.a.mark((function e(t,a){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.updateUser(t,a);case 3:r=e.sent,n=r.message,l(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c=e.t0.message,l(c);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t()}),[]),n.a.createElement("section",{className:"myAccount"},n.a.createElement("h1",null,"My Account"),n.a.createElement("div",{className:"myAccount__updateUser"},n.a.createElement("h2",null,"Update Password"),n.a.createElement("form",{className:"myAccount__update-user--form",onSubmit:function(e){e.preventDefault();var t=e.target;!function(e,t){m.apply(this,arguments)}(t.old.value,t.new.value),e.target.old.value="",e.target.new.value=""}},n.a.createElement("input",{placeholder:"Old Password",type:"password",name:"old",defaultValue:""}),n.a.createElement("input",{placeholder:"New Password",type:"password",name:"new",defaultValue:""}),n.a.createElement("button",null,"Submit"))),s&&n.a.createElement(y,{message:s,showModal:function(){l(null)}}))}));var F=function(e){var t=e.articleId,a=e.handleAddToCart,c=Object(r.useState)(""),s=Object(i.a)(c,2),l=s[0],m=s[1];function p(){return(p=Object(u.a)(o.a.mark((function e(r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=r.target.quantity.value,e.next=4,a(t,n);case 4:m("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement("form",{className:"cartbutton-form",onSubmit:function(e){return p.apply(this,arguments)}},n.a.createElement("input",{className:"cartbutton-form__input",type:"number",name:"quantity",placeholder:"1",value:l,onChange:function(e){return m(e.target.value)}}),n.a.createElement("button",{className:"cartbutton-form__button"},"Add"))};var z=function(e){var t=e.searchResult,a=Object(r.useContext)(p).setCat,c=Object(r.useContext)(p).items,s=Object(r.useContext)(p),l=s.interruptorItems,m=s.setInterruptorItems,d=Object(r.useState)(),h=Object(i.a)(d,2),f=h[0],E=h[1];Object(r.useEffect)((function(){a()}),[c]);var v=t.message,b=t.articles,g=t.error;function _(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.articleId.value,e.prev=2,e.next=5,k.removeToCart(a);case 5:m(!l),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Number(a),e.next=4,k.addToCart(t,a);case 4:m(!l),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.message,E(r);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"searchResultMainContenedor"},n.a.createElement("section",{className:"searchResult"},g&&n.a.createElement("h4",null,g),n.a.createElement("h4",null,v),b&&b.map((function(e){var t=e.ref,a=e.title,r=e.description,s=e.img,l=e.price,o=e.quantity,u=e.id;return n.a.createElement("ul",{key:u,className:"searchResult__article"},n.a.createElement("li",{className:"searchResult__article--param"},"Ref: ",t),n.a.createElement("li",{className:"searchResult__article--param"},a),n.a.createElement("li",{className:"searchResult__article--param searchResult__article--param-description"},r),n.a.createElement("li",{className:"searchResult__article--param searchResult__article--param-image"},n.a.createElement("img",{alt:"",src:s})),n.a.createElement("li",{className:"searchResult__article--param"},"Price: ",l," \u20ac"),n.a.createElement("li",{className:"searchResult__article--param"},"Stock: ",o," uds"),0===o&&n.a.createElement("section",{className:"searchResult__out-of-stock"},n.a.createElement("h3",null,"Out of stock")),!c.some((function(e){return e.item.article.id===u}))&&k.isUserLogged()&&o>0&&n.a.createElement(F,{handleAddToCart:O,articleId:u,stock:o}),c.map((function(e){return e.item.article.id===u&&n.a.createElement("section",{className:"searchResult__on-cart"},n.a.createElement("h3",{className:"searchResult__on-cart--text"},"On cart ",e.quantity),n.a.createElement("form",{onSubmit:_},n.a.createElement("button",{className:"searchResult__on-cart--button"},"Remove from cart",n.a.createElement("input",{type:"text",hidden:!0,name:"articleId",defaultValue:u}))))})))}))),f&&n.a.createElement(y,{message:f,showModal:function(){E(null)}})))};var J=Object(m.e)((function(e){var t=e.orders,a=e.retrievePendingOrders,c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],m=s[1];return Object(r.useEffect)((function(){a()}),[l]),n.a.createElement("section",{className:"admin-retrieve-pending-orders"},n.a.createElement("h1",null,"Pending orders"),t&&t.map((function(e){var t=e.state,a=e.date,r=e.owner,c=e.items,s=e.id,l=0;return n.a.createElement("section",{key:s,className:"admin-retrieve-pending-orders__each-order"},n.a.createElement("section",{className:"admin-retrieve-pending-orders__each-order-articles"},c.map((function(e){var t=e.article.price*e.quantity;return l+=t,n.a.createElement("ul",{className:"admin-retrieve-pending-orders__each-order--article",key:e.id},n.a.createElement("li",null,"Ref: ",e.article.ref),n.a.createElement("li",null,e.article.title),n.a.createElement("li",null,e.quantity," units"),n.a.createElement("li",null,e.article.price," \u20ac"),n.a.createElement("li",null,"Total: ",t.toFixed(2)," \u20ac"))}))),n.a.createElement("ul",{className:"admin-retrieve-pending-orders__each-order--company"},n.a.createElement("li",{className:"statusAdminOrder"},n.a.createElement("p",null,"State:")," ",n.a.createElement("p",{className:"status__".concat(t)},t.toUpperCase())),n.a.createElement("li",null,"Date: ",n.a.createElement(T.a,{format:"YYYY-MM-DD HH:mm"},a)),n.a.createElement("li",null,"Company: ",r.company),n.a.createElement("li",null,"Country: ",r.country),n.a.createElement("li",null,"E-mail: ",r.email),n.a.createElement("li",null,"Total price: ",l.toFixed(2),"\u20ac"),n.a.createElement("section",{className:"admin-retrieve-pending-orders__each-order--buttons"},n.a.createElement("form",{className:"admin-retrieve-pending-orders__each-order--button-change",onSubmit:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.changeStateOrder(s);case 4:a=e.sent,r=a.message,m(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.message,m(n);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},n.a.createElement("button",null,"Change State")),n.a.createElement("form",{className:"admin-retrieve-pending-orders__each-order--button-remove",onSubmit:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.removePendingOrder(s);case 4:a=e.sent,r=a.message,m(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.message,m(n);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},n.a.createElement("button",null,"Remove Order")))))})),l&&n.a.createElement(y,{message:l,showModal:function(){m(null)}}))}));var H=Object(m.e)((function(e){var t=e.orders;return n.a.createElement("section",{className:"admin-retrieve-all-orders"},n.a.createElement("h1",null,"All orders"),t&&t.map((function(e){var t=e.state,a=e.date,r=e.owner,c=e.items,s=0;return n.a.createElement("section",{className:"admin-retrieve-all-orders__each-order"},n.a.createElement("section",{className:"admin-retrieve-all-orders__each-order-articles"},c.map((function(e){var t=e.article.price*e.quantity;return s+=t,n.a.createElement("ul",{className:"admin-retrieve-all-orders__each-order--article",key:e.article.title},n.a.createElement("li",null,"Ref: ",e.article.ref),n.a.createElement("li",null,e.article.title),n.a.createElement("li",null,e.quantity," units"),n.a.createElement("li",null,e.article.price," \u20ac"),n.a.createElement("li",null,"Total: ",t.toFixed(2)," \u20ac"))}))),n.a.createElement("ul",{className:"admin-retrieve-all-orders__each-order--company"},n.a.createElement("li",{className:"statusAdminOrder"},n.a.createElement("p",null,"State:")," ",n.a.createElement("p",{className:"status__".concat(t)},t.toUpperCase())),n.a.createElement("li",null,"Date: ",n.a.createElement(T.a,{format:"YYYY-MM-DD HH:mm"},a)),n.a.createElement("li",null,"Company: ",r.company),n.a.createElement("li",null,"Country: ",r.country),n.a.createElement("li",null,"E-mail: ",r.email),n.a.createElement("li",null,"Total price: ",s.toFixed(2),"\u20ac")))})))}));var Y=Object(m.e)((function(e){var t=e.users,a=e.retrieveAllUsers,c=Object(r.useState)(),s=Object(i.a)(c,2),l=s[0],m=s[1],d=Object(r.useState)(),h=Object(i.a)(d,2),f=h[0],E=h[1],v=Object(r.useContext)(p),b=v.interruptorItems,g=v.setInterruptorItems;function _(e){e.preventDefault();var t=e.target,a=t.password.value;!function(e,t){x.apply(this,arguments)}(t.id.value,a)}function x(){return(x=Object(u.a)(o.a.mark((function e(t,a){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.unregisterUser(t,a);case 3:r=e.sent,n=r.message,E(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c=e.t0.message,m(c);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(t.target.clientId.value);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.removeAllCart(t);case 3:a=e.sent,r=a.message,E(r),g(!b),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n=e.t0.message,E(n);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function C(){E(null),m(null)}return Object(r.useEffect)((function(){a()}),[f]),n.a.createElement("section",{className:"admin-retrieve-users"},n.a.createElement("h1",null,"All users"),t&&t.user.map((function(e){var t=e.company,a=e.country,r=e.email,c=e.role,s=e.id,l=e.cart;return n.a.createElement("ul",{className:"admin-retrieve-users__each-user",key:s},n.a.createElement("li",null,"Company: ",t),n.a.createElement("li",null,"Country: ",a),n.a.createElement("li",null,"Email: ",r),n.a.createElement("li",null,"Role: ",c),n.a.createElement("li",null,n.a.createElement("form",{onSubmit:O},"On cart articles: ",l.length,l.length>0&&n.a.createElement("button",null,"-"),n.a.createElement("input",{type:"text",hidden:!0,name:"clientId",defaultValue:s}))),n.a.createElement("form",{onSubmit:_},n.a.createElement("input",{placeholder:"Your Password",type:"password",name:"password"}),n.a.createElement("input",{hidden:!0,type:"text",name:"id",value:s}),n.a.createElement("button",null,"Delete User")))})),f&&n.a.createElement(y,{message:f,showModal:C}),l&&n.a.createElement(y,{message:l,showModal:C}))}));var K=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(),l=Object(i.a)(s,2),m=l[0],p=l[1],d=Object(r.useState)(),h=Object(i.a)(d,2),f=h[0],E=h[1],v=Object(r.useState)(""),b=Object(i.a)(v,2),g=b[0],_=b[1],x=Object(r.useState)(""),O=Object(i.a)(x,2),w=O[0],j=O[1],N=Object(r.useState)(""),C=Object(i.a)(N,2),S=C[0],A=C[1],P=Object(r.useState)(""),U=Object(i.a)(P,2),T=U[0],R=U[1];function I(){return(I=Object(u.a)(o.a.mark((function e(t,a,r,n,s){var l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.registerUser(t,a,r,n,s);case 3:l=e.sent,E(l.user),p(l.message),_(""),j(""),A(""),R(""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u=e.t0.message,c(u);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function D(){p(null),c(null)}return n.a.createElement("section",{className:"admin-new-user"},n.a.createElement("h1",null,"Register new user"),n.a.createElement("form",{className:"admin-new-user__form",onSubmit:function(e){e.preventDefault();var t=e.target;!function(e,t,a,r,n){I.apply(this,arguments)}(t.company.value,t.country.value,t.email.value,t.password.value,t.role.value)}},n.a.createElement("input",{placeholder:"Company",type:"text",name:"company",value:g,onChange:function(e){return _(e.target.value)}}),n.a.createElement("input",{placeholder:"Country",type:"text",name:"country",value:w,onChange:function(e){return j(e.target.value)}}),n.a.createElement("input",{placeholder:"e-mail",type:"text",name:"email",value:S,onChange:function(e){return A(e.target.value)}}),n.a.createElement("input",{placeholder:"password",type:"text",name:"password",value:T,onChange:function(e){return R(e.target.value)}}),n.a.createElement("select",{name:"role"},n.a.createElement("option",{value:"regular"},"Regular User"),n.a.createElement("option",{value:"admin"},"Admin")),n.a.createElement("button",null,"Register a new client")),n.a.createElement("section",{className:"admin-new-user__user"},f&&n.a.createElement("ul",null,n.a.createElement("h2",null,"New User"),n.a.createElement("li",null,"Company: ",f.company),n.a.createElement("li",null,"Country: ",f.country),n.a.createElement("li",null,"Email: ",f.email),n.a.createElement("li",null,"Role: ",f.role))),m&&n.a.createElement(y,{message:m,showModal:D}),a&&n.a.createElement(y,{message:a,showModal:D}))};a(39);var G=function(e){var t=e.message;return n.a.createElement("p",{className:"feedback"},t)};var V=Object(m.e)((function(e){e.history;var t=Object(r.useContext)(p),a=(t.cat,t.setCat),c=Object(r.useState)(),s=Object(i.a)(c,2),l=s[0],m=s[1],d=Object(r.useState)(),h=Object(i.a)(d,2),f=h[0],E=h[1],v=Object(r.useState)(),b=Object(i.a)(v,2),g=b[0],_=b[1],x=Object(r.useState)(),O=Object(i.a)(x,2),w=O[0],j=O[1],N=Object(r.useState)(),C=Object(i.a)(N,2),S=C[0],A=C[1],P=Object(r.useState)(),U=Object(i.a)(P,2),T=U[0],R=U[1];function I(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),j(),A(),R(),e.next=7,k.retrievePendingOrders();case 7:t=e.sent,a=t.orders,_(a),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),r=e.t0.message,_(),m(r);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function q(){return(q=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),_(),A(),R(),e.next=7,k.retrieveAllOrders();case 7:t=e.sent,j(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a=e.t0.message,m(a);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function M(){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),j(),_(),R(),e.next=7,k.retrieveAllUsers();case 7:t=e.sent,A(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a=e.t0.message,m(a);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){a()}),[]),n.a.createElement("section",{className:"admin-main"},n.a.createElement("section",{className:"admin-main__admin-panel"},n.a.createElement("h1",null,"ADMIN PANEL"),n.a.createElement("div",{className:"admin-main__admin-panel--buttons"},n.a.createElement("button",{onClick:I},"Pending orders"),n.a.createElement("button",{onClick:function(){return q.apply(this,arguments)}},"All orders"),n.a.createElement("button",{onClick:function(){m(),_(),A(),j(),R("new-user")}},"New User"),n.a.createElement("button",{onClick:M},"Retrieve all users"))),n.a.createElement("section",{className:"admin-main__content"},l&&n.a.createElement(G,{message:l}),g&&n.a.createElement(J,{orders:g,retrievePendingOrders:I}),w&&n.a.createElement(H,{orders:w}),S&&n.a.createElement(Y,{users:S,retrieveAllUsers:M}),T&&n.a.createElement(K,null)),f&&n.a.createElement(y,{message:f,showModal:function(){E(null),m(null)}}))}));var B=function(){var e=Object(r.useContext)(p).setCat;return Object(r.useEffect)((function(){e()}),[]),n.a.createElement("section",{className:"change-log"},n.a.createElement("h1",{className:"change-log__title"},"Change Log"),n.a.createElement("section",{className:"change-log__all-logs"},n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.13.0 - 26/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Added remove all cart on each user of Admin Panel")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.12.1 - 15/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Fixed Bug of infinite useEffect requests of user to API")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.12.0 - 10/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,'Changed Placeholder of input to add quantity to cart for "1"'),n.a.createElement("li",null,"Added conditional to API if quantioty to add to cart is less than 0 change quantity to 1"),n.a.createElement("li",null,"Improved and customized buttons, inputs and text to add and remove on cart article"),n.a.createElement("li",null,"Customized styles of each function of Admin Panel"),n.a.createElement("li",null,"Added number of quantity to cart in each article button of search")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.11.0 - 9/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"New design of Admin Panel"),n.a.createElement("li",null,"Delete individual url for register user and brought to the admin panel"),n.a.createElement("li",null,"Add information of actual cart of each user on Admin Panel Retrieve All Users"),n.a.createElement("li",null,"Create one sass file for each admin panel function with his correctly BEM")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.10.1 - 9/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Fixed Bug to render categories"),n.a.createElement("li",null,"Fixed bug of the modal on search results, in which when jumping it was seen by collision with the z-index of hover:before article")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.10.0 - 8/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"If some article have empty stock should be throw an error if you want to send to cart"),n.a.createElement("li",null,"If stock article is empty, don't show Add Button"),n.a.createElement("li",null,"If Place Order have some article with quantity 0, automaticatly send error"),n.a.createElement("li",null,"If my Orders is empty, should be throw a error with modal and redirectioned to home."),n.a.createElement("li",null,"Add modal for search products errors to add to cart"),n.a.createElement("li",null,"If article quantity sended to cart is 0, automaticly change to 1"),n.a.createElement("li",null,"Changed input search style"),n.a.createElement("li",null,"Changed system to add quantity on current order, now the submit change the old quantity for the new quantity"),n.a.createElement("li",null,"Added setError with Modal on submit a quantity greater than stock number on current cart")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.9.0 - 7/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,'Customized and improve the categories url, without %20 and "KTTAPE"'),n.a.createElement("li",null,"Category without articles should be throw a error, and are a status 200 error. Change to error and ifnorm with Feedback o Modal"),n.a.createElement("li",null,"Mark with some mode each article if this article is  in the cart"),n.a.createElement("li",null,"Delete button of search results delete the all quantity of the cart of this article"),n.a.createElement("li",null,"Added delete button for each article on Search results and search results categories if this article is on cart")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.8.0 - 5/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Reset value to search input after submit"),n.a.createElement("li",null,"Results input to add quantity without borders"),n.a.createElement("li",null,"Moved CategoriesNav to left, and augmented font size"),n.a.createElement("li",null,"Fixed bug url at categories")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.7.0 - 4/10/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"In articles menu's / current cart, remove the number into the input after correct submit"),n.a.createElement("li",null,"Hamburger menu to categories"),n.a.createElement("li",null,"Fix bug to select category, strange rerender..., and going since Home to Cat rendering old categories component"),n.a.createElement("li",null,"Results articles and categories fixed for max 4 flex columns"),n.a.createElement("li",null,"Retrieve all users inputs without border")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.6.1 - 30/09/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Fixed User Cart account bug"),n.a.createElement("li",null,"Added css flex column to change log"),n.a.createElement("li",null,"Added initial call to Api to WakeUp Api after login"),n.a.createElement("li",null,"Deleted autoselfie functions to admin panel into noSelfie functions"),n.a.createElement("li",null,'Fixed bug to "change state" or "remove order" to Admin Panel'),n.a.createElement("li",null,"Performed clean code to AdminPanel and App components"),n.a.createElement("li",null,"Customized change log css")))),n.a.createElement("section",{className:"change-log__version"},n.a.createElement("h2",{className:"change-log__version--title"},"0.6.0 - 28/09/2019"),n.a.createElement("section",null,n.a.createElement("ul",null,n.a.createElement("li",null,'Added new component "NewUser"'),n.a.createElement("li",null,"Implemented register User with logic modals and feedback"),n.a.createElement("li",null,"Added feedback after register user with data of new user"),n.a.createElement("li",null,"Added filter, admins can't register admins, just regulars"),n.a.createElement("li",null,"Api logic create new user aded throw error / not available for now creating a new admin account"),n.a.createElement("li",null,'Added new component "RetrieveAllUsers"'),n.a.createElement("li",null,"Added button Delete User"),n.a.createElement("li",null,"Changed logic of Unregister User and Register User API"),n.a.createElement("li",null,"Added accountant to current orders menu, with the total of articles inside."),n.a.createElement("li",null,"If cart length = 0 you will be redirectioned to home"),n.a.createElement("li",null,'New component "ChangeLog", implemented into the Home Page'),n.a.createElement("li",null,"Added phoenix to package.json API/APP"),n.a.createElement("li",null,"Change doc logo, new logo black and orange"))))))};var W=function(e){var t=e.searchResult,a=Object(r.useContext)(p).setArticles,c=Object(r.useContext)(p).items,s=Object(r.useState)(),l=Object(i.a)(s,2),m=l[0],d=l[1],h=Object(r.useContext)(p),f=h.interruptorItems,E=h.setInterruptorItems;Object(r.useEffect)((function(){a()}),[c]);var v=t.message,b=t.articles,g=t.error;function _(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.articleId.value,e.prev=2,e.next=5,k.removeToCart(a);case 5:E(!f),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Number(a),e.next=4,k.addToCart(t,a);case 4:E(!f),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.message,d(r);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"searchResultMainContenedor"},n.a.createElement("section",{className:"searchResult"},g&&n.a.createElement("h4",null,g),n.a.createElement("h4",null,v),b&&b.map((function(e){var t=e.ref,a=e.title,r=e.description,s=e.img,l=e.price,o=e.quantity,u=e.id;return n.a.createElement("ul",{key:u,className:"searchResult__article"},n.a.createElement("li",{className:"searchResult__article--param"},"Ref: ",t),n.a.createElement("li",{className:"searchResult__article--param"},a),n.a.createElement("li",{className:"searchResult__article--param searchResult__article--param-description"},r),n.a.createElement("li",{className:"searchResult__article--param searchResult__article--param-image"},n.a.createElement("img",{alt:"",src:s})),n.a.createElement("li",{className:"searchResult__article--param"},"Price: ",l," \u20ac"),n.a.createElement("li",{className:"searchResult__article--param"},"Stock: ",o," uds"),0===o&&n.a.createElement("section",{className:"searchResult__out-of-stock"},n.a.createElement("h3",null,"Out of stock")),!c.some((function(e){return e.item.article.id===u}))&&k.isUserLogged()&&o>0&&n.a.createElement(F,{handleAddToCart:O,articleId:u,stock:o}),c.map((function(e){return e.item.article.id===u&&n.a.createElement("section",{className:"searchResult__on-cart"},n.a.createElement("h3",{className:"searchResult__on-cart--text"},"On cart ",e.quantity),n.a.createElement("form",{onSubmit:_},n.a.createElement("button",{className:"searchResult__on-cart--button"},"Remove from cart",n.a.createElement("input",{type:"text",hidden:!0,name:"articleId",defaultValue:u}))))})))}))),m&&n.a.createElement(y,{message:m,showModal:function(){d(null)}})))};var $=Object(m.e)((function(e){var t=e.history,a=Object(r.useContext)(p).cat,c=Object(r.useContext)(p).setItems,s=Object(r.useContext)(p).interruptorItems,l=Object(r.useContext)(p),i=l.articles,d=l.setArticles;function h(){return(h=Object(u.a)(o.a.mark((function e(a){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=8;break}return e.next=3,k.searchArticles(a);case 3:r=e.sent,d(r),t.push("/home/search/?q=".concat(a)),e.next=13;break;case 8:return e.next=10,k.retrieveAllArticles();case 10:n=e.sent,d(n),t.push("/home/search/allArticles");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.retrieveUser();case 3:if(t=e.sent,!(a=t.cart)){e.next=11;break}return e.next=8,Promise.all(a.map((function(e){return k.retrieveArticle(e.article)})));case 8:r=(r=e.sent).map((function(e,t){return{item:e,quantity:a[t].quantity}})),c(r);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[s]),n.a.createElement(n.a.Fragment,null,k.isUserLogged()&&n.a.createElement("header",{className:"header"},n.a.createElement("section",{className:"superior"},n.a.createElement("div",{className:"superior__container"},n.a.createElement("img",{className:"superior__image",alt:"",src:"https://kttape.es/wp-content/uploads/2019/02/Logo-sense-fons-dreta-blanc.png"}),n.a.createElement("section",{className:"superior__conditions"},n.a.createElement("a",{className:"superior__conditions--privacy",href:"https://kttape.es/privacy-policy/"},"Privacy Policy"),n.a.createElement("a",{className:"superior__conditions--terms",href:"https://kttape.es/terms-of-use/"},"Terms of Use"))))),k.isUserLogged()&&n.a.createElement("div",{className:"header__sticky-nav"},n.a.createElement(A,{onSearch:function(e){return h.apply(this,arguments)}})),n.a.createElement("main",{className:"home"},n.a.createElement(m.a,{exact:!0,path:"/home",render:function(){return k.isUserLogged()?n.a.createElement(B,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/documents",render:function(){return k.isUserLogged()?n.a.createElement(P,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/my-orders",render:function(){return k.isUserLogged()?n.a.createElement(I,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/current-order",render:function(){return k.isUserLogged()?n.a.createElement(M,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/my-account",render:function(){return k.isUserLogged()?n.a.createElement(L,null):t.push("/")}}),n.a.createElement(m.a,{exact:!0,path:"/home/admin-panel",render:function(){return k.isUserAdmin()?n.a.createElement(V,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/admin-panel/new-user",render:function(){return k.isUserLogged()?n.a.createElement(K,null):t.push("/")}}),n.a.createElement(m.a,{path:"/home/category",render:function(){return k.isUserLogged()?a&&n.a.createElement("section",null,n.a.createElement(W,{searchResult:a})):t.push("/")}}),n.a.createElement(m.a,{path:"/home/search",render:function(){return k.isUserLogged()?i&&n.a.createElement("section",null,n.a.createElement(z,{searchResult:i})):t.push("/")}})))}));var Q=Object(m.e)((function(e){var t=e.history,a=Object(r.useState)(),c=Object(i.a)(a,2),s=c[0],l=c[1],d=Object(r.useState)(),h=Object(i.a)(d,2),f=h[0],E=h[1],v=Object(r.useState)(),b=Object(i.a)(v,2),g=b[0],_=b[1],x=Object(r.useState)(),O=Object(i.a)(x,2),w=O[0],y=O[1],j=Object(r.useState)(),C=Object(i.a)(j,2),S=C[0],A=C[1],P=Object(r.useState)(),U=Object(i.a)(P,2),T=U[0],R=U[1];return Object(r.useEffect)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.isUserLogged()){e.next=8;break}return e.prev=1,e.next=4,k.wakeUp();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(!k.isUserLogged()){e.next=18;break}return e.prev=9,e.next=12,k.retrieveUser();case 12:t=e.sent,l(t),e.next=18;break;case 16:e.prev=16,e.t1=e.catch(9);case 18:case"end":return e.stop()}}),e,null,[[1,6],[9,16]])}))),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(p.Provider,{value:{user:s,setUser:l,goHome:g,setGoHome:_,cat:w,setCat:y,articles:S,setArticles:A,items:T,setItems:R,interruptorItems:f,setInterruptorItems:E}},n.a.createElement("div",{className:"App"},n.a.createElement(m.a,{exact:!0,path:"/",render:function(){return k.isUserLogged()?t.push("/home"):n.a.createElement(N,null)}}),s&&n.a.createElement(m.a,{path:"/home",render:function(){return k.isUserLogged()?n.a.createElement($,null):t.push("/")}}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(5);s.a.render(n.a.createElement(X.a,null,n.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.d71314fe.chunk.js.map